"use strict";(self.webpackChunklibrary_management_system=self.webpackChunklibrary_management_system||[]).push([[697],{1938:(f,p,i)=>{i.d(p,{V:()=>t});var a=i(4650),d=i(529);class t{constructor(s){this.http=s,this.ROOT_URL="https://library-management-system-g6oa.onrender.com/api/v1"}saveNewStudent(s){return console.log(s),this.http.post(this.ROOT_URL+"/student",s)}saveStudentImage(s,l){console.log(l);let m=new FormData;return m.append("studentImage",l,l.name),this.http.post(this.ROOT_URL+"/student/"+s+"/uploadimage",m)}getAllStudents(){return console.log("loading students!"),this.http.get(this.ROOT_URL+"/student")}deleteStudent(s){return console.log(s),this.http.delete(this.ROOT_URL+"/student/"+s)}getStudentById(s){return console.log("loading student: "+s),this.http.get(this.ROOT_URL+"/student/"+s)}getIssuedBooksByStudentId(s){return console.log("loading all issued books of student: "+s),this.http.get(this.ROOT_URL+"/student/"+s+"/issuebook")}updateStudent(s){return console.log(s),this.http.put(this.ROOT_URL+"/student/"+s.id,s)}}t.\u0275fac=function(s){return new(s||t)(a.LFG(d.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})},3697:(f,p,i)=>{i.r(p),i.d(p,{StudentDetailModule:()=>r});var a=i(6895),d=i(9299),t=i(4650),h=i(1938);function s(n,o){if(1&n&&(t.TgZ(0,"div",4)(1,"strong"),t._uU(2,"Error: "),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.AsE("",null==e.error.error?null:e.error.error.error," ",null==e.error.error?null:e.error.error.message,"\n")}}const l=function(n){return{active:n}};function m(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"a",31),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit,_=o.index,g=t.oxw(3);t.xp6(1),t.hYB("href","#",g.savedStudent.gender,"-",e.id,"",t.LSH),t.Q6J("ngClass",t.VKq(4,l,0==_)),t.xp6(1),t.Oqu(e.book.title)}}const Z=function(n){return{"show active":n}};function v(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",32)(2,"p",20)(3,"strong"),t._uU(4,"Issue Id: "),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p",20)(7,"strong"),t._uU(8,"Book Category: "),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"p",20)(11,"strong"),t._uU(12,"Book Name: "),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"p",20)(15,"strong"),t._uU(16,"Book Author: "),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p",20)(19,"strong"),t._uU(20,"Issue Date: "),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"p",20)(23,"strong"),t._uU(24,"Expiring Date: "),t.qZA(),t._uU(25),t.qZA(),t.TgZ(26,"p",20)(27,"strong"),t._uU(28,"Fine: "),t.qZA(),t._uU(29),t.qZA()(),t.BQk()),2&n){const e=o.$implicit,_=o.index,g=t.oxw(3);t.xp6(1),t.hYB("id","",g.savedStudent.gender,"-",e.id,""),t.Q6J("ngClass",t.VKq(10,Z,0==_)),t.xp6(4),t.Oqu(e.id),t.xp6(4),t.Oqu(e.book.category.categoryName),t.xp6(4),t.Oqu(e.book.title),t.xp6(4),t.Oqu(e.book.author),t.xp6(4),t.Oqu(e.issueDate),t.xp6(4),t.hij("",e.expiringDate," "),t.xp6(4),t.Oqu(e.fine)}}const x=function(n){return{show:n}};function A(n,o){if(1&n&&(t.TgZ(0,"div",25)(1,"div",26)(2,"div",27),t.YNc(3,m,3,6,"ng-container",28),t.qZA()(),t.TgZ(4,"div",29)(5,"div",30),t.YNc(6,v,30,12,"ng-container",28),t.qZA()()()),2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(3,x,e.issuedBooks.length)),t.xp6(3),t.Q6J("ngForOf",e.issuedBooks),t.xp6(3),t.Q6J("ngForOf",e.issuedBooks)}}function q(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"section",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11),t._UZ(7,"img",12),t.qZA(),t.TgZ(8,"div",13)(9,"h4",14),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA()()(),t._UZ(13,"div",15),t.TgZ(14,"div",16)(15,"div",17)(16,"p",18),t._uU(17,"About"),t.qZA(),t.TgZ(18,"div",19)(19,"p",20)(20,"strong"),t._uU(21,"Id: "),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"p",20)(24,"strong"),t._uU(25,"Stream: "),t.qZA(),t._uU(26),t.qZA(),t.TgZ(27,"p",20)(28,"strong"),t._uU(29,"Name: "),t.qZA(),t._uU(30),t.qZA(),t.TgZ(31,"p",20)(32,"strong"),t._uU(33,"Gender: "),t.qZA(),t._uU(34),t.qZA(),t.TgZ(35,"p",20)(36,"strong"),t._uU(37,"Date Of Birth: "),t.qZA(),t._uU(38),t.qZA(),t.TgZ(39,"p",20)(40,"strong"),t._uU(41,"Contact Number: "),t.qZA(),t._uU(42),t.qZA(),t.TgZ(43,"p",21)(44,"strong"),t._uU(45,"Email: "),t.qZA(),t._uU(46),t.qZA()()(),t.TgZ(47,"div",22)(48,"button",23),t.NdJ("click",function(){t.CHM(e);const g=t.oxw();return t.KtG(g.fetchAllIssuedBooks())}),t._uU(49," Fetch Issued Books "),t.qZA()(),t.YNc(50,A,7,5,"div",24),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("src",e.savedStudent.imageUrl||"assets/images/default-student-image.png",t.LSH),t.xp6(3),t.Oqu(e.savedStudent.name),t.xp6(2),t.Oqu(e.savedStudent.email),t.xp6(10),t.Oqu(e.savedStudent.id),t.xp6(4),t.Oqu(e.savedStudent.stream),t.xp6(4),t.Oqu(e.savedStudent.name),t.xp6(4),t.Oqu(e.savedStudent.gender),t.xp6(4),t.Oqu(e.savedStudent.dob),t.xp6(4),t.hij("",e.savedStudent.contact," "),t.xp6(4),t.Oqu(e.savedStudent.email),t.xp6(2),t.Q6J("disabled",e.issuedBooks),t.xp6(2),t.Q6J("ngIf",e.issuedBooks&&e.issuedBooks.length)}}class c{constructor(o,e){this.studentService=o,this.activatedRoute=e,this.error=null}ngOnInit(){let o=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.studentService.getStudentById(o).subscribe({next:e=>{this.savedStudent=e},error:e=>{console.log(e),this.error=e}})}fetchAllIssuedBooks(){this.studentService.getIssuedBooksByStudentId(this.savedStudent.id).subscribe({next:o=>{this.issuedBooks=o},error:o=>{console.log(o),this.error=o}})}}c.\u0275fac=function(o){return new(o||c)(t.Y36(h.V),t.Y36(d.gz))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-student-detail"]],decls:6,vars:2,consts:[[1,"container","mt-3","p-3","bg-white"],[1,"fs-4","fw-bold"],["class","container mt-3 alert alert-danger",4,"ngIf"],["class","h-100",4,"ngIf"],[1,"container","mt-3","alert","alert-danger"],[1,"h-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-lg-9","col-xl-7"],[1,"card"],[1,"rounded-top","text-white","d-flex","flex-row",2,"background-color","#3f51b5","height","200px"],[1,"ms-4","mt-5","d-flex","flex-column",2,"width","150px"],["alt","Student Image",1,"img-fluid","img-thumbnail","mt-4","mb-2",2,"width","150px","z-index","1",3,"src"],[1,"ms-3",2,"margin-top","130px"],[1,"text-capitalize"],[1,"p-4","text-black",2,"background-color","#f8f9fa","min-height","100px"],[1,"card-body","p-4","text-black"],[1,"mb-5"],[1,"lead","fw-normal","mb-1"],[1,"p-4",2,"background-color","#f8f9fa"],[1,"mb-1"],[1,"font-italic","mb-0"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["data-bs-toggle","collapse","data-bs-target","#collapseExample",1,"btn","btn","btn-outline-primary",3,"disabled","click"],["class","row collapse","id","collapseExample",3,"ngClass",4,"ngIf"],["id","collapseExample",1,"row","collapse",3,"ngClass"],[1,"col-md-4"],["id","list-tab","role","tablist",1,"list-group","list-group-numbered"],[4,"ngFor","ngForOf"],[1,"col-md-8",2,"background-color","#f8f9fa"],["id","nav-tabContent",1,"tab-content","p-4"],["data-bs-toggle","list","role","tab",1,"list-group-item","list-group-item-action",3,"ngClass","href"],["role","tabpanel",1,"tab-pane","fade",3,"id","ngClass"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"Student Details"),t.qZA(),t._UZ(3,"hr"),t.qZA(),t.YNc(4,s,4,2,"div",2),t.YNc(5,q,51,12,"section",3)),2&o&&(t.xp6(4),t.Q6J("ngIf",e.error),t.xp6(1),t.Q6J("ngIf",e.savedStudent))},dependencies:[a.mk,a.sg,a.O5]});const U=[{path:"",component:c}];class u{}u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[d.Bz.forChild(U),d.Bz]});var S=i(4859),b=i(7392);class r{}r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[a.ez,u,S.ot,b.Ps]})}}]);