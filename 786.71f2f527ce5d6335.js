"use strict";(self.webpackChunklibrary_management_system=self.webpackChunklibrary_management_system||[]).push([[786],{3786:($,g,r)=>{r.r(g),r.d(g,{StatsModule:()=>l});var d=r(6895),h=r(9299),s=r(4650),p=r(529);class t{constructor(e){this.http=e,this.ROOT_URL="https://library-management-system-g6oa.onrender.com/api/v1"}getStats(){return console.log("loading stats!"),this.http.get(this.ROOT_URL+"/stats")}}t.\u0275fac=function(e){return new(e||t)(s.LFG(p.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"});var o=r(2882);function i(a,e){if(1&a&&(s.TgZ(0,"div",4)(1,"strong"),s._uU(2,"Error: "),s.qZA(),s._uU(3),s.qZA()),2&a){const n=s.oxw();s.xp6(3),s.AsE("",null==n.error.error?null:n.error.error.error," ",null==n.error.error?null:n.error.error.message,"\n")}}function m(a,e){if(1&a&&(s.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),s._UZ(4,"i",9),s.TgZ(5,"span",10),s._uU(6),s.qZA(),s.TgZ(7,"p"),s._uU(8,"Registered Students"),s.qZA()()(),s.TgZ(9,"div",7)(10,"div",8),s._UZ(11,"i",11),s.TgZ(12,"span",10),s._uU(13),s.qZA(),s.TgZ(14,"p"),s._uU(15,"Book Categories"),s.qZA()()(),s.TgZ(16,"div",7)(17,"div",8),s._UZ(18,"i",12),s.TgZ(19,"span",10),s._uU(20),s.qZA(),s.TgZ(21,"p"),s._uU(22,"Available Books"),s.qZA()()(),s.TgZ(23,"div",7)(24,"div",8),s._UZ(25,"i",13),s.TgZ(26,"span",10),s._uU(27),s.qZA(),s.TgZ(28,"p"),s._uU(29,"Reserved Books"),s.qZA()()()()()),2&a){const n=e.ngIf;s.xp6(6),s.Oqu(n.totalStudents),s.xp6(7),s.Oqu(n.totalCategories),s.xp6(7),s.Oqu(n.totalBooks),s.xp6(7),s.Oqu(n.totalIssuedBooks)}}class c{constructor(e,n){this.statsService=e,this.storeService=n,this.error=null}ngOnInit(){this.storeService.statsLoaded||this.statsService.getStats().subscribe({next:e=>{console.log(e),this.storeService.loadStats(e)},error:e=>{console.log(e),this.error=e}}),this.stats$=this.storeService.currentStats$}}c.\u0275fac=function(e){return new(e||c)(s.Y36(t),s.Y36(o.d))},c.\u0275cmp=s.Xpm({type:c,selectors:[["app-stats"]],decls:7,vars:4,consts:[[1,"container","mt-3","p-3","bg-white"],[1,"fs-4","fw-bold"],["class","container mt-3 alert alert-danger",4,"ngIf"],["class","container mt-3 p-3",4,"ngIf"],[1,"container","mt-3","alert","alert-danger"],[1,"container","mt-3","p-3"],[1,"row","g-3","justify-content-evenly"],[1,"four","col-md-3"],[1,"counter-box"],[1,"fa","fa-group"],[1,"counter"],[1,"fa","fa-road"],[1,"fa","fa-book"],[1,"fa","fa-tag"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"Dashboard"),s.qZA(),s._UZ(3,"hr"),s.qZA(),s.YNc(4,i,4,2,"div",2),s.YNc(5,m,30,4,"div",3),s.ALo(6,"async")),2&e&&(s.xp6(4),s.Q6J("ngIf",n.error),s.xp6(1),s.Q6J("ngIf",s.lcZ(6,2,n.stats$)))},dependencies:[d.O5,d.Ov],styles:[".container[_ngcontent-%COMP%]{margin-top:100px}.counter-box[_ngcontent-%COMP%]{display:block;background:#f6f6f6;padding:40px 20px 37px;text-align:center}.counter-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;padding:0;color:#909090;font-size:18px;font-weight:500}.counter-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;margin:0 0 15px;color:#d2d2d2}.counter[_ngcontent-%COMP%]{display:block;font-size:32px;font-weight:700;color:#666;line-height:28px}"]});const f=[{path:"",component:c}];class u{}u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=s.oAB({type:u}),u.\u0275inj=s.cJS({imports:[h.Bz.forChild(f),h.Bz]});var v=r(7392);class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=s.oAB({type:l}),l.\u0275inj=s.cJS({imports:[d.ez,u,v.Ps]})},2882:($,g,r)=>{r.d(g,{d:()=>s});var d=r(1135),h=r(4650);class s{loadCategories(){return this.categories$}setCategories(t){this.categories$.next(t),this.loaded=!0}removeCategory(t){this.categories$.next(this.categories$.getValue().filter(o=>o.id!==t))}addCategory(t){this.categories$.next([...this.categories$.value,t])}modifyCategory(t){this.categories$.next(this.categories$.getValue().map(o=>o.id===t.id?t:o))}loadBooks(t){this.books$.next(t),this.booksLoaded=!0}removeBook(t){this.books$.next(this.books$.getValue().filter(o=>o.id!==t))}addBook(t){this.books$.next([...this.books$.value,t])}addBookImage(t,o){this.books$.next(this.books$.value.map(i=>(i.id===t&&(i.imageUrl=o.imageUrl),i)))}modifyBook(t){this.books$.next(this.books$.getValue().map(o=>o.id===t.id?t:o))}loadStudents(t){this.students$.next(t),this.studentsLoaded=!0}addStudent(t){this.students$.next([...this.students$.value,t])}addStudentImage(t,o){this.students$.next(this.students$.value.map(i=>(i.id===t&&(i.imageUrl=o.imageUrl),i)))}removeStudent(t){this.students$.next(this.students$.getValue().filter(o=>o.id!==t))}modifyStudent(t){this.students$.next(this.students$.getValue().map(o=>o.id===t.id?t:o))}loadIssuedBooks(t){this.issuedBooks$.next(t),this.issuedBooksLoaded=!0}addIssuedBook(t){this.issuedBooks$.next([...this.issuedBooks$.value,t])}removeIssuedBook(t){this.issuedBooks$.next(this.issuedBooks$.getValue().filter(o=>o.id!==t))}loadStats(t){this.stats$.next(t),this.statsLoaded=!0}incrementCategory(){let t=this.stats$.getValue();t.totalCategories=++t.totalCategories,this.stats$.next(t)}decrementCategory(){let t=this.stats$.getValue();t.totalCategories=--t.totalCategories,this.stats$.next(t)}incrementBook(){let t=this.stats$.getValue();t.totalBooks=++t.totalBooks,this.stats$.next(t)}decrementBook(){let t=this.stats$.getValue();t.totalBooks=--t.totalBooks,this.stats$.next(t)}incrementStudent(){let t=this.stats$.getValue();t.totalStudents=++t.totalStudents,this.stats$.next(t)}decrementStudent(){let t=this.stats$.getValue();t.totalStudents=--t.totalStudents,this.stats$.next(t)}incrementIssuedBook(){let t=this.stats$.getValue();t.totalIssuedBooks=++t.totalIssuedBooks,this.stats$.next(t)}decrementIssuedBook(){let t=this.stats$.getValue();t.totalIssuedBooks=--t.totalIssuedBooks,this.stats$.next(t)}constructor(){this.categories$=new d.X([]),this.loaded=!1,this.books$=new d.X([]),this.currentBooks$=this.books$.asObservable(),this.booksLoaded=!1,this.students$=new d.X([]),this.currentStudents$=this.students$.asObservable(),this.studentsLoaded=!1,this.issuedBooks$=new d.X([]),this.currentIssuedBooks$=this.issuedBooks$.asObservable(),this.issuedBooksLoaded=!1,this.stats$=new d.X({totalStudents:0,totalCategories:0,totalBooks:0,totalIssuedBooks:0}),this.currentStats$=this.stats$.asObservable(),this.statsLoaded=!1}}s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}}]);