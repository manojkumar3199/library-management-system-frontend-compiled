"use strict";(self.webpackChunklibrary_management_system=self.webpackChunklibrary_management_system||[]).push([[905],{2905:(U,u,a)=>{a.r(u),a.d(u,{CategoryAddModule:()=>m});var d=a(6895),c=a(9299),n=a(4006),e=a(4650),C=a(2507),h=a(2882),y=a(7009),s=a(9549),f=a(4144),p=a(4859);const N=["formGroupDirective"];function v(o,t){if(1&o&&(e.TgZ(0,"div",13)(1,"strong"),e._uU(2,"Error: "),e.qZA(),e._uU(3),e.qZA()),2&o){const r=e.oxw();e.xp6(3),e.AsE("",null==r.error.error?null:r.error.error.error," ",null==r.error.error?null:r.error.error.message,"\n")}}function A(o,t){1&o&&(e.TgZ(0,"mat-error",14),e._uU(1,"category name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Z(o,t){if(1&o&&(e.TgZ(0,"mat-error",14),e._uU(1,"category name is "),e.TgZ(2,"strong"),e._uU(3),e.qZA()()),2&o){const r=e.oxw();e.xp6(3),e.hij(" at least of ",null==r.getCategoryName||null==r.getCategoryName.errors?null:r.getCategoryName.errors.minlength.requiredLength," chars ")}}function T(o,t){1&o&&(e.TgZ(0,"mat-error",14),e._uU(1," short name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}class g{constructor(t,r,i,S){this.fb=t,this.categoryService=r,this.storeService=i,this._snackBar=S,this.error=null}ngOnInit(){this.categoryForm=this.fb.group({categoryName:["",[n.kI.required,n.kI.minLength(3)]],shortName:["",n.kI.required]})}get getCategoryName(){return this.categoryForm.get("categoryName")}get getShortName(){return this.categoryForm.get("shortName")}saveNewCategory(){null!==this.error&&(this.error=null);let t=this.categoryForm.value;this.categoryService.saveNewCategory(t).subscribe({next:r=>{this.storeService.addCategory(r),this.storeService.incrementCategory(),this._snackBar.open(t.categoryName+" added successfully!","",{duration:3e3})},error:r=>this.error=r})}reset(){this.formGroupDirective.resetForm(),this.error=null}}g.\u0275fac=function(t){return new(t||g)(e.Y36(n.qu),e.Y36(C.H),e.Y36(h.d),e.Y36(y.ux))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-category-add"]],viewQuery:function(t,r){if(1&t&&e.Gf(N,5),2&t){let i;e.iGM(i=e.CRH())&&(r.formGroupDirective=i.first)}},decls:25,vars:6,consts:[[1,"container","mt-3","p-3","bg-white"],[1,"text-capitalize","fs-4","fw-bold"],["class","container mt-3 alert alert-danger",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"d-flex","flex-column",3,"formGroup","ngSubmit"],["formGroupDirective","ngForm"],["appearance","outline",1,"mb-4"],["matInput","","placeholder","e.g: Adventure","formControlName","categoryName"],["class","text-capitalize",4,"ngIf"],["matInput","","placeholder","e.g: ADV","formControlName","shortName"],[1,"d-flex","justify-content-between"],["type","submit","mat-raised-button","","color","primary",1,"text-capitalize","fw-semibold",3,"disabled"],["type","button","mat-raised-button","","color","accent",1,"text-capitalize","fw-semibold",3,"click"],[1,"container","mt-3","alert","alert-danger"],[1,"text-capitalize"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"add new book category"),e.qZA(),e._UZ(3,"hr"),e.qZA(),e.YNc(4,v,4,2,"div",2),e.TgZ(5,"div",0)(6,"div",3)(7,"form",4,5),e.NdJ("ngSubmit",function(){return r.saveNewCategory()}),e.TgZ(9,"mat-form-field",6)(10,"mat-label"),e._uU(11,"Category Name"),e.qZA(),e._UZ(12,"input",7),e.YNc(13,A,4,0,"mat-error",8),e.YNc(14,Z,4,1,"mat-error",8),e.qZA(),e.TgZ(15,"mat-form-field",6)(16,"mat-label"),e._uU(17,"Short Name"),e.qZA(),e._UZ(18,"input",9),e.YNc(19,T,4,0,"mat-error",8),e.qZA(),e.TgZ(20,"div",10)(21,"button",11),e._uU(22,"save"),e.qZA(),e.TgZ(23,"button",12),e.NdJ("click",function(){return r.reset()}),e._uU(24,"reset"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",r.error),e.xp6(3),e.Q6J("formGroup",r.categoryForm),e.xp6(6),e.Q6J("ngIf",(null==r.getCategoryName||null==r.getCategoryName.errors?null:r.getCategoryName.errors.required)&&(null==r.getCategoryName?null:r.getCategoryName.touched)),e.xp6(1),e.Q6J("ngIf",(null==r.getCategoryName||null==r.getCategoryName.errors?null:r.getCategoryName.errors.minlength)&&(null==r.getCategoryName?null:r.getCategoryName.touched)),e.xp6(5),e.Q6J("ngIf",(null==r.getShortName||null==r.getShortName.errors?null:r.getShortName.errors.required)&&(null==r.getShortName?null:r.getShortName.touched)),e.xp6(2),e.Q6J("disabled",r.categoryForm.invalid))},dependencies:[d.O5,s.KE,s.hX,s.TO,f.Nt,p.lW,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]});const b=[{path:"",component:g}];class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[c.Bz.forChild(b),c.Bz]});class m{}m.\u0275fac=function(t){return new(t||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[d.ez,l,s.lN,f.c,p.ot,n.UX,y.ZX]})}}]);