"use strict";(self.webpackChunklibrary_management_system=self.webpackChunklibrary_management_system||[]).push([[562],{5562:(M,g,r)=>{r.r(g),r.d(g,{IssuebookAddModule:()=>_});var x=r(6895),f=r(9299),b=r(2138),s=r(4006),a=r(6308),i=r(7155),e=r(4650),R=r(1938),N=r(2507),E=r(608),w=r(2882),U=r(8541),A=r(7009),C=r(8425),y=r(9549),T=r(4144),k=r(3238),v=r(1281);const q=["input"],D=["label"],z=["*"],J=new e.OlP("mat-checkbox-default-options",{providedIn:"root",factory:F});function F(){return{color:"accent",clickAction:"check-indeterminate"}}const O={provide:s.JU,useExisting:(0,e.Gpc)(()=>Z),multi:!0};class Y{}let Q=0;const I=F(),L=(0,k.sb)((0,k.pj)((0,k.Kr)((0,k.Id)(class{constructor(t){this._elementRef=t}}))));let G=(()=>{class t extends L{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(c){this._required=(0,v.Ig)(c)}constructor(c,o,d,m,h,l,Fe){super(o),this._changeDetectorRef=d,this._ngZone=m,this._animationMode=l,this._options=Fe,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.vpe,this.indeterminateChange=new e.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||I,this.color=this.defaultColor=this._options.color||I.color,this.tabIndex=parseInt(h)||0,this.id=this._uniqueId=`${c}${++Q}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(c){const o=(0,v.Ig)(c);o!=this.checked&&(this._checked=o,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(c){const o=(0,v.Ig)(c);o!==this.disabled&&(this._disabled=o,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(c){const o=c!=this._indeterminate;this._indeterminate=(0,v.Ig)(c),o&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(c){this.checked=!!c}registerOnChange(c){this._controlValueAccessorChangeFn=c}registerOnTouched(c){this._onTouched=c}setDisabledState(c){this.disabled=c}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(c){let o=this._currentCheckState,d=this._getAnimationTargetElement();if(o!==c&&d&&(this._currentAnimationClass&&d.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(o,c),this._currentCheckState=c,this._currentAnimationClass.length>0)){d.classList.add(this._currentAnimationClass);const m=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{d.classList.remove(m)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const c=this._options?.clickAction;this.disabled||"noop"===c?!this.disabled&&"noop"===c&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==c&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(c){c.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(c,o){if("NoopAnimations"===this._animationMode)return"";switch(c){case 0:if(1===o)return this._animationClasses.uncheckedToChecked;if(3==o)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===o?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===o?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===o?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(c){const o=this._inputElement;o&&(o.nativeElement.indeterminate=c)}}return t.\u0275fac=function(c){e.$Z()},t.\u0275dir=e.lG2({type:t,viewQuery:function(c,o){if(1&c&&(e.Gf(q,5),e.Gf(D,5),e.Gf(k.wG,5)),2&c){let d;e.iGM(d=e.CRH())&&(o._inputElement=d.first),e.iGM(d=e.CRH())&&(o._labelElement=d.first),e.iGM(d=e.CRH())&&(o.ripple=d.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[e.qOj]}),t})(),Z=(()=>{class t extends G{constructor(c,o,d,m,h,l){super("mat-mdc-checkbox-",c,o,d,m,h,l),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(c){const o=new Y;return o.source=this,o.checked=c,o}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_preventBubblingFromLabel(c){c.target&&this._labelElement.nativeElement.contains(c.target)&&c.stopPropagation()}}return t.\u0275fac=function(c){return new(c||t)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.$8M("tabindex"),e.Y36(e.QbO,8),e.Y36(J,8))},t.\u0275cmp=e.Xpm({type:t,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(c,o){2&c&&(e.Ikx("id",o.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[e._Bn([O]),e.qOj],ngContentSelectors:z,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(c,o){if(1&c&&(e.F$t(),e.TgZ(0,"div",0),e.NdJ("click",function(m){return o._preventBubblingFromLabel(m)}),e.TgZ(1,"div",1,2)(3,"div",3),e.NdJ("click",function(){return o._onInputClick()}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("blur",function(){return o._onBlur()})("click",function(){return o._onInputClick()})("change",function(m){return o._onInteractionEvent(m)}),e.qZA(),e._UZ(6,"div",6),e.TgZ(7,"div",7),e.O4$(),e.TgZ(8,"svg",8),e._UZ(9,"path",9),e.qZA(),e.kcU(),e._UZ(10,"div",10),e.qZA(),e._UZ(11,"div",11),e.qZA(),e.TgZ(12,"label",12,13),e.Hsn(14),e.qZA()()),2&c){const d=e.MAs(2);e.ekj("mdc-form-field--align-end","before"==o.labelPosition),e.xp6(4),e.ekj("mdc-checkbox--selected",o.checked),e.Q6J("checked",o.checked)("disabled",o.disabled)("id",o.inputId)("required",o.required)("tabIndex",o.tabIndex),e.uIk("aria-checked",o._getAriaChecked())("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("name",o.name)("value",o.value),e.xp6(7),e.Q6J("matRippleTrigger",d)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),e.xp6(1),e.Q6J("for",o.inputId)}},dependencies:[k.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),t})(),B=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})(),j=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[k.BQ,k.si,B,k.BQ,B]}),t})();var S=r(4859);const $=["bookFormGroupDirective"];function X(t,n){if(1&t&&(e.TgZ(0,"div",22)(1,"strong"),e._uU(2,"Error: "),e.qZA(),e._uU(3),e.qZA()),2&t){const c=e.oxw();e.xp6(3),e.AsE("",null==c.error.error?null:c.error.error.error," ",null==c.error.error?null:c.error.error.message,"\n")}}function K(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1,"Student Id"),e.qZA())}function P(t,n){if(1&t&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&t){const c=n.$implicit;e.xp6(1),e.hij(" ",c.id," ")}}function W(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1,"Student Name"),e.qZA())}function ee(t,n){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const c=n.$implicit;e.xp6(1),e.hij(" ",c.name," ")}}function ce(t,n){1&t&&(e.TgZ(0,"th",26),e._uU(1," Action "),e.qZA())}function te(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"td",24)(1,"mat-checkbox",27),e.NdJ("change",function(d){const h=e.CHM(c).$implicit,l=e.oxw();return e.KtG(l.onStudentSelect(h,d))}),e.qZA()()}if(2&t){const c=n.$implicit;e.xp6(1),e.Q6J("formControlName",c.id)}}function oe(t,n){1&t&&e._UZ(0,"tr",28)}function ne(t,n){1&t&&e._UZ(0,"tr",29)}function de(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1," Category Id "),e.qZA())}function ae(t,n){if(1&t&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&t){const c=n.$implicit;e.xp6(1),e.hij(" ",c.id," ")}}function re(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1,"Category Name"),e.qZA())}function ie(t,n){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const c=n.$implicit;e.xp6(1),e.hij(" ",c.categoryName," ")}}function me(t,n){1&t&&(e.TgZ(0,"th",26),e._uU(1," Action "),e.qZA())}function se(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"td",24)(1,"mat-checkbox",32,33),e.NdJ("change",function(d){const h=e.CHM(c).$implicit,l=e.oxw(2);return e.KtG(l.onCategorySelect(h,d))}),e.qZA()()}if(2&t){const c=e.MAs(2),o=e.oxw(2);e.xp6(1),e.Q6J("disabled",o.selectedCategory&&!c.checked)}}function he(t,n){1&t&&e._UZ(0,"tr",28)}function le(t,n){1&t&&e._UZ(0,"tr",29)}function ke(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"mat-step",30)(1,"div",6)(2,"mat-form-field")(3,"mat-label"),e._uU(4,"Filter Category"),e.qZA(),e.TgZ(5,"input",7),e.NdJ("keyup",function(d){e.CHM(c);const m=e.oxw();return e.KtG(m.applyCategoryFilter(d))}),e.qZA()()(),e.TgZ(6,"div",3)(7,"table",9),e.ynx(8,10),e.YNc(9,de,2,0,"th",11),e.YNc(10,ae,2,1,"td",12),e.BQk(),e.ynx(11,31),e.YNc(12,re,2,0,"th",11),e.YNc(13,ie,2,1,"td",14),e.BQk(),e.ynx(14,15),e.YNc(15,me,2,0,"th",16),e.YNc(16,se,3,1,"td",12),e.BQk(),e.YNc(17,he,1,0,"tr",17),e.YNc(18,le,1,0,"tr",18),e.qZA()(),e.TgZ(19,"div",3)(20,"button",19),e.NdJ("click",function(){e.CHM(c);const d=e.oxw();return e.KtG(d.loadRelevantBooks())}),e._uU(21,"Fetch Books"),e.qZA()()()}if(2&t){const c=e.oxw();e.xp6(7),e.Q6J("dataSource",c.categories),e.xp6(10),e.Q6J("matHeaderRowDef",c.displayedCategoryColumns),e.xp6(1),e.Q6J("matRowDefColumns",c.displayedCategoryColumns),e.xp6(2),e.Q6J("disabled",!c.selectedCategory||c.selectedCategory.categoryName===c.relevantBooksCategoryName)}}function be(t,n){if(1&t&&(e.TgZ(0,"div",3)(1,"h2"),e._uU(2," Category "),e.TgZ(3,"span",38),e._uU(4),e.qZA()()()),2&t){const c=e.oxw(2);e.xp6(4),e.Oqu(c.relevantBooksCategoryName)}}function ue(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1," Book Id "),e.qZA())}function _e(t,n){if(1&t&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&t){const c=n.$implicit;e.xp6(1),e.hij(" ",c.id," ")}}function xe(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1,"Book Tile"),e.qZA())}function pe(t,n){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const c=n.$implicit;e.xp6(1),e.hij(" ",c.title," ")}}function ge(t,n){1&t&&(e.TgZ(0,"th",26),e._uU(1," Action "),e.qZA())}function fe(t,n){1&t&&(e.TgZ(0,"span",40),e._uU(1,"Reserved"),e.qZA())}function ve(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"td",24)(1,"mat-checkbox",27),e.NdJ("change",function(d){const h=e.CHM(c).$implicit,l=e.oxw(2);return e.KtG(l.onBookSelect(h,d))}),e.qZA(),e.YNc(2,fe,2,0,"span",39),e.qZA()}if(2&t){const c=n.$implicit;e.xp6(1),e.Q6J("formControlName",c.id),e.xp6(1),e.Q6J("ngIf",c.reserved)}}function Ce(t,n){1&t&&e._UZ(0,"tr",28)}function ye(t,n){1&t&&e._UZ(0,"tr",29)}function Ae(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"mat-step",34),e.YNc(1,be,5,1,"div",35),e.TgZ(2,"div",6)(3,"mat-form-field")(4,"mat-label"),e._uU(5,"Filter Book"),e.qZA(),e.TgZ(6,"input",7),e.NdJ("keyup",function(d){e.CHM(c);const m=e.oxw();return e.KtG(m.applyBookFilter(d))}),e.qZA()()(),e.TgZ(7,"div",3)(8,"form",8,36)(10,"table",9),e.ynx(11,10),e.YNc(12,ue,2,0,"th",11),e.YNc(13,_e,2,1,"td",12),e.BQk(),e.ynx(14,37),e.YNc(15,xe,2,0,"th",11),e.YNc(16,pe,2,1,"td",14),e.BQk(),e.ynx(17,15),e.YNc(18,ge,2,0,"th",16),e.YNc(19,ve,3,2,"td",12),e.BQk(),e.YNc(20,Ce,1,0,"tr",17),e.YNc(21,ye,1,0,"tr",18),e.qZA()()(),e.TgZ(22,"div",3)(23,"button",19),e.NdJ("click",function(){e.CHM(c);const d=e.oxw();return e.KtG(d.issueBook())}),e._uU(24,"Issue Book"),e.qZA()()()}if(2&t){const c=e.oxw();e.Q6J("stepControl",c.bookForm),e.xp6(1),e.Q6J("ngIf",c.relevantBooksCategoryName),e.xp6(7),e.Q6J("formGroup",c.bookForm),e.xp6(2),e.Q6J("dataSource",c.relevantBooks),e.xp6(10),e.Q6J("matHeaderRowDef",c.displayedBookColumns),e.xp6(1),e.Q6J("matRowDefColumns",c.displayedBookColumns),e.xp6(2),e.Q6J("disabled",!c.selectedStudent||!c.selectedBook)}}class p{set matSort(n){this.sortList=n,this.students&&(this.students.sort=this.sortList.toArray()[0]),this.categories&&(this.categories.sort=this.sortList.toArray()[1]),this.relevantBooks&&(this.relevantBooks.sort=this.sortList.toArray()[2])}constructor(n,c,o,d,m,h,l){this.studentService=n,this.categoryService=c,this.bookService=o,this.storeServive=d,this.fb=m,this.issuebookService=h,this._snackBar=l,this.error=null,this.selectedStudent=null,this.students=new i.by,this.displayedStudentColumns=["id","name","action"],this.selectedCategory=null,this.categories=new i.by,this.displayedCategoryColumns=["id","categoryName","action"],this.relevantBooksCategoryName=null,this.selectedBook=null,this.relevantBooks=new i.by,this.displayedBookColumns=["id","title","action"]}ngOnInit(){this.studentForm=this.fb.group({}),this.storeServive.studentsLoaded||this.studentService.getAllStudents().subscribe({next:n=>{this.storeServive.loadStudents(n),n.forEach(c=>this.studentForm.addControl(String(c.id),this.fb.control(!1,s.kI.requiredTrue)))},error:n=>{console.log(n),this.error=n}}),this.storeServive.currentStudents$.subscribe(n=>{this.students.data=n,n.forEach(c=>this.studentForm.addControl(String(c.id),this.fb.control(!1,s.kI.requiredTrue)))}),this.bookForm=this.fb.group({})}applyStudentFilter(n){this.students.filter=n.target.value.trim().toLowerCase()}onStudentSelect(n,c){c.checked?(this.selectedStudent=n,this.students.data.forEach(o=>{o.id!==n.id&&this.studentForm.get(String(o.id))?.disable()})):(this.selectedStudent=null,this.students.data.forEach(o=>this.studentForm.get(String(o.id))?.enable())),console.log(this.selectedStudent,c.checked)}loadCategories(){null!==this.error&&(this.error=null),this.storeServive.loaded||this.categoryService.getCategories().subscribe({next:n=>{this.storeServive.setCategories(n)},error:n=>{console.log(n),this.error=n}}),this.storeServive.loadCategories().subscribe(n=>this.categories.data=n)}applyCategoryFilter(n){this.categories.filter=n.target.value.trim().toLowerCase()}onCategorySelect(n,c){this.selectedCategory=c.checked?n:null,console.log(this.selectedCategory,c.checked)}loadRelevantBooks(){null!==this.error&&(this.error=null);let n=this.selectedCategory?.id,c=this.selectedCategory?.categoryName;this.bookService.getBooksByCategory(n).subscribe({next:o=>{this.relevantBooks.data.length&&(this.relevantBooks.data.forEach(d=>this.bookForm.removeControl(String(d.id))),this.selectedBook=null),this.relevantBooks.data=o,this.relevantBooksCategoryName=c,o.forEach(d=>{this.bookForm.addControl(String(d.id),this.fb.control({value:!1,disabled:d.reserved},s.kI.requiredTrue))})},error:o=>{console.log(o),this.error=o}})}applyBookFilter(n){this.relevantBooks.filter=n.target.value.trim().toLowerCase()}onBookSelect(n,c){c.checked?(this.selectedBook=n,this.relevantBooks.data.forEach(o=>{o.id!==n.id&&!o.reserved&&this.bookForm.get(String(o.id))?.disable()})):(this.selectedBook=null,this.relevantBooks.data.forEach(o=>{o.reserved||this.bookForm.get(String(o.id))?.enable()})),console.log(this.selectedBook,c.checked)}issueBook(){let n=this.selectedStudent?.id,c=this.selectedBook?.id;this.issuebookService.issueBook(n,c).subscribe({next:o=>{o.student=this.selectedStudent,this.storeServive.addIssuedBook(o),this.storeServive.modifyBook(o.book),this.storeServive.incrementIssuedBook(),this._snackBar.open("Booking Is Successful!","",{duration:3e3}),this.relevantBooks.data.map(d=>d.id===this.selectedBook?.id?(d.reserved=o.book.reserved,this.bookForm.get(String(d.id))?.setValue(!1),this.bookForm.get(String(d.id))?.disable(),d):(d.reserved||this.bookForm.get(String(d.id))?.enable(),d)),this.selectedBook=null},error:o=>{console.log(o),this.error=o}})}}p.\u0275fac=function(n){return new(n||p)(e.Y36(R.V),e.Y36(N.H),e.Y36(E.Z),e.Y36(w.d),e.Y36(s.qu),e.Y36(U.C),e.Y36(A.ux))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-issuebook-add"]],viewQuery:function(n,c){if(1&n&&(e.Gf($,5),e.Gf(a.YE,5)),2&n){let o;e.iGM(o=e.CRH())&&(c.bookFormGroupDirective=o.first),e.iGM(o=e.CRH())&&(c.matSort=o)}},features:[e._Bn([{provide:b.gx,useValue:{showError:!0}}])],decls:33,vars:9,consts:[[1,"container","mt-3","p-3","bg-white"],[1,"fs-4","fw-bold"],["class","container mt-3 alert alert-danger",4,"ngIf"],[1,"container","mt-3"],["stepper",""],["label","Select Student","errorMessage","Student is required",3,"stepControl"],[1,"container","d-flex","flex-column","mt-3"],["matInput","",3,"keyup"],[3,"formGroup"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","","class","text-capitalize",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",1,"fw-semibold",3,"disabled","click"],["label","Select Category",4,"ngIf"],["label","Select Book","errorMessage","Book is required",3,"stepControl",4,"ngIf"],[1,"container","mt-3","alert","alert-danger"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"text-capitalize"],["mat-header-cell",""],[3,"formControlName","change"],["mat-header-row",""],["mat-row",""],["label","Select Category"],["matColumnDef","categoryName"],[3,"disabled","change"],["checkBox",""],["label","Select Book","errorMessage","Book is required",3,"stepControl"],["class","container mt-3",4,"ngIf"],["bookFormGroupDirective","ngForm"],["matColumnDef","title"],[1,"badge","bg-secondary"],["class","badge rounded-pill text-bg-warning",4,"ngIf"],[1,"badge","rounded-pill","text-bg-warning"]],template:function(n,c){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Issue Book To Student"),e.qZA(),e._UZ(3,"hr"),e.qZA(),e.YNc(4,X,4,2,"div",2),e.TgZ(5,"div",3)(6,"mat-stepper",null,4)(8,"mat-step",5)(9,"div",6)(10,"mat-form-field")(11,"mat-label"),e._uU(12,"Filter Student"),e.qZA(),e.TgZ(13,"input",7),e.NdJ("keyup",function(d){return c.applyStudentFilter(d)}),e.qZA()()(),e.TgZ(14,"div",3)(15,"form",8)(16,"table",9),e.ynx(17,10),e.YNc(18,K,2,0,"th",11),e.YNc(19,P,2,1,"td",12),e.BQk(),e.ynx(20,13),e.YNc(21,W,2,0,"th",11),e.YNc(22,ee,2,1,"td",14),e.BQk(),e.ynx(23,15),e.YNc(24,ce,2,0,"th",16),e.YNc(25,te,2,1,"td",12),e.BQk(),e.YNc(26,oe,1,0,"tr",17),e.YNc(27,ne,1,0,"tr",18),e.qZA()()(),e.TgZ(28,"div",3)(29,"button",19),e.NdJ("click",function(){return c.loadCategories()}),e._uU(30,"Fetch Categories"),e.qZA()()(),e.YNc(31,ke,22,4,"mat-step",20),e.YNc(32,Ae,25,7,"mat-step",21),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngIf",c.error),e.xp6(4),e.Q6J("stepControl",c.studentForm),e.xp6(7),e.Q6J("formGroup",c.studentForm),e.xp6(1),e.Q6J("dataSource",c.students),e.xp6(10),e.Q6J("matHeaderRowDef",c.displayedStudentColumns),e.xp6(1),e.Q6J("matRowDefColumns",c.displayedStudentColumns),e.xp6(2),e.Q6J("disabled",!c.selectedStudent||!!c.categories.data.length),e.xp6(2),e.Q6J("ngIf",c.categories.data.length),e.xp6(1),e.Q6J("ngIf",c.relevantBooks.data.length))},dependencies:[x.O5,C.C0,C.Vq,y.KE,y.hX,T.Nt,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,a.YE,a.nU,Z,S.lW,s._Y,s.JJ,s.JL,s.sg,s.u]});const Te=[{path:"",component:p}];class u{}u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[f.Bz.forChild(Te),f.Bz]});class _{}_.\u0275fac=function(n){return new(n||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[x.ez,u,C.T5,y.lN,T.c,i.p0,a.JX,j,S.ot,s.UX,A.ZX]})},1938:(M,g,r)=>{r.d(g,{V:()=>b});var x=r(4650),f=r(529);class b{constructor(a){this.http=a,this.ROOT_URL="https://library-management-system-g6oa.onrender.com/api/v1"}saveNewStudent(a){return console.log(a),this.http.post(this.ROOT_URL+"/student",a)}saveStudentImage(a,i){console.log(i);let e=new FormData;return e.append("studentImage",i,i.name),this.http.post(this.ROOT_URL+"/student/"+a+"/uploadimage",e)}getAllStudents(){return console.log("loading students!"),this.http.get(this.ROOT_URL+"/student")}deleteStudent(a){return console.log(a),this.http.delete(this.ROOT_URL+"/student/"+a)}getStudentById(a){return console.log("loading student: "+a),this.http.get(this.ROOT_URL+"/student/"+a)}getIssuedBooksByStudentId(a){return console.log("loading all issued books of student: "+a),this.http.get(this.ROOT_URL+"/student/"+a+"/issuebook")}updateStudent(a){return console.log(a),this.http.put(this.ROOT_URL+"/student/"+a.id,a)}}b.\u0275fac=function(a){return new(a||b)(x.LFG(f.eN))},b.\u0275prov=x.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}}]);